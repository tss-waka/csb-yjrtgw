(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{43:function(e,t,r){"use strict";r.r(t);var n,a,c,s=r(9),u=r.n(s),i=r(24),o=r.n(i),d=r(13),l=r(23),f=r(10),p=r(12),b=r(5),j=r.n(b),h=r(19),O=r(25),v=r(30),x=r(8),g=r(31),m=r(20),w=new O.a({link:x.a.from([new x.a((function(e,t){return e.setContext({headers:{Authorization:"Bearer ".concat("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")}}),t(e)})),new g.a({uri:"https://api.github.com/graphql"})]),cache:new v.a({resultCaching:!1})}),S=function(){var e=Object(f.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(m.a)(n||(n=Object(h.a)(["\n    query search(\n      $first: Int\n      $last: Int\n      $before: String\n      $after: String\n      $query: String!\n    ) {\n      search(\n        query: $query\n        first: $first\n        last: $last\n        before: $before\n        after: $after\n        type: REPOSITORY\n      ) {\n        repositoryCount\n        pageInfo {\n          endCursor\n          hasNextPage\n          hasPreviousPage\n          startCursor\n        }\n        edges {\n          cursor\n          node {\n            ... on Repository {\n              id\n              name\n              url\n              stargazers {\n                totalCount\n              }\n              viewerHasStarred\n            }\n          }\n        }\n      }\n    }\n  "]))),e.next=3,w.query({query:r,variables:t});case 3:return a=e.sent,e.abrupt("return",a.data.search);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(j.a.mark((function e(t){var r,n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("addStar"),r={input:{starrableId:t}},n=Object(m.a)(a||(a=Object(h.a)(["\n    mutation addStar($input: AddStarInput!) {\n      addStar(input: $input) {\n        starrable {\n          id\n          viewerHasStarred\n        }\n      }\n    }\n  "]))),e.next=5,w.mutate({mutation:n,variables:r});case 5:return c=e.sent,e.abrupt("return",c.data.addStar);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(j.a.mark((function e(t){var r,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("removeStar"),r={input:{starrableId:t}},n=Object(m.a)(c||(c=Object(h.a)(["\n    mutation removeStar($input: RemoveStarInput!) {\n      removeStar(input: $input) {\n        starrable {\n          id\n          viewerHasStarred\n        }\n      }\n    }\n  "]))),e.next=5,w.mutate({mutation:n,variables:r});case 5:return a=e.sent,e.abrupt("return",a.data.removeStar);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=r(4);function I(){var e=Object(s.useState)({query:"",first:null,last:null,before:null,after:null}),t=Object(p.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)(""),c=Object(p.a)(a,2),u=c[0],i=c[1],o=Object(s.useState)(0),b=Object(p.a)(o,2),h=b[0],O=b[1],v=Object(s.useState)([]),x=Object(p.a)(v,2),g=x[0],m=x[1],w=Object(s.useState)(!1),I=Object(p.a)(w,2),$=I[0],q=I[1],H=Object(s.useState)(!1),P=Object(p.a)(H,2),R=P[0],z=P[1],B=function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:r=e.sent,O(r.repositoryCount),m(Object(l.a)(r.edges)),t.before=r.pageInfo.beforeCursor,t.after=r.pageInfo.endCursor,t.first=null,t.last=null,n(t),q(r.pageInfo.hasNextPage),z(r.pageInfo.hasPreviousPage);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return");case 2:return t=Object(d.a)(Object(d.a)({},r),{},{query:u,first:5,last:null,before:null,after:null}),e.next=5,B(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.a)(Object(d.a)({},r),{},{first:5,before:null}),e.next=3,B(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(f.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(d.a)(Object(d.a)({},r),{},{last:5,after:null}),e.next=3,B(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(e){var t=Object(l.a)(g);t.map((function(t){return t.node.id===e.starrable.id&&(t.node.viewerHasStarred!==e.starrable.viewerHasStarred&&(t.node.stargazers.totalCount+=e.starrable.viewerHasStarred?1:-1),t.node.viewerHasStarred=e.starrable.viewerHasStarred),t})),m(t)},F=function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:r=e.sent,A(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:r=e.sent,A(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{style:{padding:"8px",margin:"4px",backgroundColor:"#ddffff"},children:[Object(C.jsx)("input",{value:u,onChange:function(e){return i(e.target.value)},style:{marginRight:"4px"}}),Object(C.jsx)("button",{onClick:E,children:"\u691c\u7d22"})]}),Object(C.jsxs)("div",{style:{padding:"8px",margin:"4px",backgroundColor:"#ffddff"},children:[Object(C.jsxs)("div",{children:['"',r.query,'" is Searched. Found ',h," ",1===h?"Repository":"Repositories"]}),Object(C.jsxs)("table",{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Name"}),Object(C.jsx)("th",{children:"Star"})]})}),Object(C.jsx)("tbody",{children:g.map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:Object(C.jsx)("a",{href:e.node.url,style:{margin:"0px 4px"},children:e.node.name})}),Object(C.jsx)("td",{children:Object(C.jsxs)("button",{onClick:function(){return e.node.viewerHasStarred?D(e.node.id):F(e.node.id)},children:[e.node.stargazers.totalCount," Stars |"," ",e.node.viewerHasStarred?"\u2605":"-"]})})]},e.node.id)}))})]})]}),Object(C.jsxs)("div",{style:{padding:"8px",margin:"4px",backgroundColor:"#ffffdd"},children:[R&&Object(C.jsx)("button",{onClick:J,children:"Prev"}),$&&Object(C.jsx)("button",{onClick:N,style:{margin:"0px 4px"},children:"Next"})]})]})}o.a.createRoot(document.getElementById("root")).render(Object(C.jsx)(u.a.StrictMode,{children:Object(C.jsx)(I,{})}))}},[[43,1,2]]]);
//# sourceMappingURL=main.73e3b706.chunk.js.map